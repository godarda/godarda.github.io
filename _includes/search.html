<!--
  File: _includes/search.html
  Purpose: Defines the HTML structure for the site's reusable search component.
  It includes the search input, icons for voice/close, dynamic suggestion placeholders,
  and the results container. All interactive logic is handled by /assets/js/search.js.
-->

{%- assign path = page.url | split: '/' -%}
<!-- Set global JS variables for search context and JSON URL -->
<script>window.gd_path1 = '{{ path[1] | default: "search" }}';</script>
<script>window.gd_search_url = '{{ "/search.json" | relative_url }}';</script>
<!-- Load the main search script -->
<script src="{{ site.search_js | relative_url }}"></script>
<div>
    <center>
        <div class="col-xs-12 col-sm-11 col-md-9 col-lg-7 col-xl-6 col-xxl-6" style="margin-bottom: 25px;">
            {%- if path[1] == nil -%}
            <!-- Display site title and tagline only on the home page -->
            <h2 style="padding-top: 150px;" id="fc-{{ path[1] }}">GoDarda</h2>
            <h6 style="padding-top: 5px; padding-bottom: 10px;">{{ site.tagline }}</h6>
            {%- endif -%}

            <!-- Main search input group -->
            <div id="GDS_input-{{ path[1] | default: 'search' }}" class="input-group input-group-lg">
                <input id="GDSInput" class="form-control" type="text" tabindex="1"
                    placeholder="{{ page.title }} (type to get the results)" style="border-right: 0;">
                <!-- Voice search icon -->
                <span id="mic_icon" class="input-group-text"
                    style="cursor: pointer; background-color: var(--bs-body-bg); border-left: 0; border-right: 0; padding-left: 6px; padding-right: 6px;"><i class="bi bi-mic"></i></span>
                <!-- Search icon (visible by default) -->
                <span id="search_icon" class="input-group-text"
                    style="background-color: var(--bs-body-bg); border-left: 0; padding-left: 6px; padding-right: 12px;"><i class="bi bi-search"></i></span>
                <!-- Close/clear icon (hidden by default) -->
                <span id="close_icon" class="input-group-text"
                    style="display: none; cursor: pointer; background-color: var(--bs-body-bg); border-left: 0; padding-left: 6px; padding-right: 12px;"><i class="bi bi-x-lg"></i></span>
            </div>
            <!-- Container for search suggestions -->
            <div id="suggestions-container" style="margin-top: 10px; text-align: left; display: none;">
                <span class="text-muted" style="margin-right: 5px;"><i id="suggestion-light"
                        class="bi bi-lightbulb"></i> Suggestions:</span>
                <span id="search-suggestions"></span>
            </div>
            <!-- Container for displaying the number of search results -->
            <div id="matchCount" class="text-muted small" style="margin-top:8px; display:none; text-align:left"></div>
        </div>

        <!-- Main container where search results are rendered -->
        <div id="{{ path[1] | default: 'search' }}" class="col-xs-12 col-sm-12 col-md-10 col-lg-8 col-xl-7 col-xxl-7"
            style="text-align: left; margin-bottom: 30px;"></div>
    </center>
</div>
